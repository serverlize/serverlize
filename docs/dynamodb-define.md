---
id: dynamodb-define
title: Defining Models
sidebar_label: Defining Models
---

To get started, we will create a model. The easiest way to create a model is
through the CLI:

```bash
$ slz model create Pet --hashKey id:string \
--attribute ownerId:string \
--timestamps
```

Under `app/models/`, there should now be a new file called `Pet.ts`. Inside it
should look like the following:

```typescript
import { Schema } from '@serverlize/db';

@Schema.table('pets')
class Pet {
    @Schema.autoGeneratedHashKey()
    id: string;

    @Schema.attribute()
    ownerId: string;

    @Schema.attribute({ defaultProvider: () => new Date() })
    createdAt: Date;

    @Schema.attribute({ defaultProvider: () => new Date() })
    updatedAt: Date;
}
```

## Model Conventions

Looking at the `Pet` model from earlier, the Database module makes certain
assumptions about the backing resource in AWS.

### Table Names

By convention, table names are snake-cased, pluralized versions of the model
name. This can be reconfigured by simply changing the value in the
`@Schema.table()` decorator.

### Timestamps

> @TODO

## Indexes

### Local Secondary Index

> @TODO

### Global Index

Now, let's assume we would like to add a global secondary index to our model.
We can do this with the following:

```typescript
import { Schema } from '@serverlize/db';

@Schema.table('pets')
class Pet {
    @Schema.autoGeneratedHashKey()
    id: string;

    @Schema.rangeKey({ defaultProvider: () => new Date() })
    createdAt: Date;

    @Schema.attribute({
      indexKeyConfigurations: {
        OwnerIdIndex: 'RANGE'
      }
    })
    ownerId: string;

    @Schema.attribute({ defaultProvider: () => new Date() })
    updatedAt: Date;
}
```
